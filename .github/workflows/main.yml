name: Build and Deploy to Azure 

on: 
  push: 
    branches: 
      - main

jobs:
  build-and-deploy: 
    runs-on: ubuntu-latest

    permissions:
      id-token: write 

    steps: 
      - name: Login to Azure
        uses: azure/login@v2
        with:
          creds: '{"clientId":"${{ secrets.AZURE_CLIENT_ID }}","clientSecret":"${{ secrets.AZURE_CLIENT_SECRET }}","subscriptionId":"${{ secrets.AZURE_SUBSCRIPTION_ID }}","tenantId":"${{ secrets.AZURE_TENANT_ID }}"}'


      - name: Display Azure account
        run: |
          az account show
